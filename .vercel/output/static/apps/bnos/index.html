<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Bobbleneers | suchcodewow</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><meta name="generator" content="Astro v4.12.2"/><meta name="generator" content="Starlight v0.25.2"/><meta property="og:title" content="Bobbleneers"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="suchcodewow"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Bobbleneers"/><meta name="twitter:description"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.BZ_lKDUn.css">
<style>:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}
.card-grid:where(.astro-zntqmydn){display:grid;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}
.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}
svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:not(:last-of-type):after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
</style><script type="module" src="/_astro/hoisted.D2PCZP5e.js"></script>
<script type="module" src="/_astro/page.LS5KDvwX.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt="" src="/_astro/wow.Cken7KQM.png" width="512" height="509">  <span class="astro-m46x6ez3"> suchcodewow </span> </a>  </div> <div class="sl-flex astro-kmkmnagf"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-v37mnknz"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script>    </div> <div class="sl-hidden md:sl-flex right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/suchcodewow/scwastro" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <ul class="top-level astro-3ii7xxms">  </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt"> <a href="https://github.com/suchcodewow/scwastro" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#pepper" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Pepper</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#case-study" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Case Study</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#bobbleneers-and-dynatrace" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Bobbleneers and Dynatrace</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#services-involved" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Services involved</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 1</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shipment-to-delivery" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Shipment to Delivery</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shipment-times-by-warehouse" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Shipment times by warehouse</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 2</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#full-process-observability" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Full Process Observability</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 3</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#zeroing-in" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Zeroing in</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shocked-realization" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">shocked realization</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#getting-proactive" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Getting Proactive</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#bonus-scenarios" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Bonus scenarios</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#confirm-mid-week-spikes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Confirm mid-week spikes</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#deployment" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Deployment</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#pepper" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Pepper</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#case-study" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Case Study</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#bobbleneers-and-dynatrace" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Bobbleneers and Dynatrace</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#services-involved" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Services involved</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 1</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shipment-to-delivery" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Shipment to Delivery</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shipment-times-by-warehouse" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Shipment times by warehouse</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 2</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#full-process-observability" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Full Process Observability</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#scenario-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Scenario 3</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#zeroing-in" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Zeroing in</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#shocked-realization" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">shocked realization</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#getting-proactive" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Getting Proactive</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#bonus-scenarios" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Bonus scenarios</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#confirm-mid-week-spikes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Confirm mid-week spikes</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#deployment" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Deployment</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body lang="en" dir="ltr" class="astro-bguv2lll">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Bobbleneers</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <p>:::info tl;dr</p>
<ul>
<li>Bobbleneers is THE premier website to buy bobbleheads of famous Dynatrace Solutions Engineers</li>
<li>They replaced aging batch warehouse distribution system with LightningBobble(tm) for ultra-fast delivery</li>
<li>Negative reviews for slow shipping starting to impact new sales</li>
<li>Support is getting pressure to find answers fast</li>
<li>Pulling together logs from various services is manual process<br>
<a href="/docs/pepper/apps/bnos#services-involved">-></a></li>
</ul>
<p>:::</p>
<h3 id="pepper">Pepper</h3>
<p><a href="/docs/pepper">Pepper</a> is a great way to deploy this application on a kubernetes cluster in the cloud of your choice.</p>
<h2 id="case-study">Case Study</h2>
<p>Bobbleneers is THE premier online hotspot to buy bobbleheads of famous Dynatrace Solutions Engineers.</p>
<p>They report excellent earnings every year thanks to constant innovation and maintaining high production standards.</p>
<p>This year, Bobbleneers leadership decided to improve their aging shipment service. To meet the modern demands of ultra-fast shipping, the company has developed and <strong>unveiled “LightningBobble” replacing their old weekly batch shipment system</strong>.</p>
<p>They are guaranteeing delivery to your door in a flash… but <strong>everything isn’t working out as planned</strong>…</p>
<p><img src="/_astro/bobblerick.BBpDMkdI_Zxxdns.webp" alt="bobblerick" width="439" height="408" loading="lazy" decoding="async"></p>
<h2 id="bobbleneers-and-dynatrace">Bobbleneers and Dynatrace</h2>
<p>Bobbleneers built and deployed LightningBobble (tm) to provide ultra-fast shipping of their high quality bobble heads. To encourage use of the service, Bobbleneers offers money-back guarantees on shipping.</p>
<p>Following implementation, Bobbleneers expected record profits and consistently positive feedback- <strong>but instead get many shipping refund requests for slow delivery</strong>. Even worse, <strong>negative reviews impact new sales</strong>.</p>
<p>To make things even more infuriating, the team must wait 2 weeks for reviews and manually lookup orders. It seems like there is a big spike of bad reviews for orders placed midweek, but the team isn’t sure they have enough data to confirm.</p>
<p>Knowing their software system must work well, Bobbleneers implemented Dynatrace on their Ordering system. Dynatrace quickly and clearly showed that the Order UI is working perfectly and all orders are submitted successfully.</p>
<p>With the power of logs on Grail, Bobbleneers intends to gain visibility into their shipping workflow, fix the problem, and restore Bobbleneers’ public image.</p>
<h3 id="services-involved">Services involved</h3>
<p><img src="/_astro/bobbleneers.CRMP_K0y_Z1oqaas.webp" alt="svc" width="1920" height="1080" loading="lazy" decoding="async"></p>
<h2 id="scenario-1">Scenario 1</h2>
<h3 id="shipment-to-delivery">Shipment to Delivery</h3>
<p>:::info tl;dr</p>
<ul>
<li>LightningBobble is suspect since newest service. But it can’t be the problem because 100% orders DO ship out.</li>
<li>Bobbleneers support started with the delivery process.</li>
<li>They used Grail to quickly pull disparate shipping and delivery logs together into usable data.</li>
<li>Then used the data to calculate transit times from separate shipping and delivery logs.</li>
<li>But… once on delivery trucks, shipments were great. The delivery team was going an awesome job.</li>
<li>There’s more work to do. But the team starts building a dashboard to always have these new insights available.<br>
<a href="/docs/pepper/apps/bnos#scenario-2">-></a></li>
</ul>
<p>:::</p>
<p>Since all orders are picked up for distribution, Bobbleneer support started with shipping and delivery. <strong>With Grail they combined logs to easily calculate shipping times</strong>.</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.d6kn2.css"><script type="module" src="/_astro/ec.3zb7u.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">60</span><span style="--0:#D7DBE0">m</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">servicename</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">shipping</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">shipped</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">delivered</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB">), by: </span><span style="--0:#D7DBE0">orderid</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">transitTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> (</span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1000000000.0</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fields</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">orderid</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">transitTime</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -60m| filter servicename == &#x22;shipping&#x22;| fieldsAdd shipTime = if(serviceevent == &#x22;shipped&#x22;, toTimestamp(event))| fieldsAdd deliverTime = if(serviceevent == &#x22;delivered&#x22;, toTimestamp(event))| summarize shipTime = takeFirst(shipTime), deliverTime= takeFirst(deliverTime), by: orderid| fieldsAdd transitTime = (deliverTime-shipTime)/(1000000000.0)/60/60| fields orderid, shipTime, deliverTime, transitTime"><div></div></button></div></figure></div>
<p>Nearly all orders are taking less than 24 hours. Shipment managers are doing a great job.</p>
<p><img src="/_astro/transit.BbPVlSV7_eePKl.webp" alt="shipments" width="789" height="399" loading="lazy" decoding="async"></p>
<h3 id="shipment-times-by-warehouse">Shipment times by warehouse</h3>
<p>Discovering the value of combining data this way, the Bobbleneer team saves a rolling weekly view to a dashboard.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">60</span><span style="--0:#D7DBE0">m</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">servicename</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">shipping</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">shipped</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">delivered</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB">), by: </span><span style="--0:#D7DBE0">orderid</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">transitTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">toLong</span><span style="--1:#403F53"><span style="--0:#D6DEEB">((</span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1000000000.0</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">DeliveryTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">round</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">avg</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">transitTime</span><span style="--0:#D6DEEB">),</span><span style="--0:#D7DBE0">decimals</span><span style="--0:#D6DEEB">:</span></span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--1:#403F53"><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">shipments</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">count</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(), by: </span><span style="--0:#D7DBE0">warehouse</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fields</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">DeliveryTime</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">shipments</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -60m| filter servicename == &#x22;shipping&#x22;| fieldsAdd shipTime = if(serviceevent == &#x22;shipped&#x22;, toTimestamp(event))| fieldsAdd deliverTime = if(serviceevent == &#x22;delivered&#x22;, toTimestamp(event))| summarize shipTime = takeFirst(shipTime), deliverTime= takeFirst(deliverTime), warehouse = takeFirst(warehouse), by: orderid| fieldsAdd transitTime = toLong((deliverTime-shipTime)/(1000000000.0)/60/60)| summarize DeliveryTime = round(avg(transitTime),decimals:1), shipments = count(), by: warehouse| fields warehouse, DeliveryTime, shipments"><div></div></button></div></figure></div>
<p><img src="/_astro/weeklywarehouse.BtxzSNPZ_28hvIv.webp" alt="weekly" width="654" height="225" loading="lazy" decoding="async"></p>
<h2 id="scenario-2">Scenario 2</h2>
<p>:::info tl;dr</p>
<ul>
<li>With pressure mounting, the support team capitalized on Grail’s ability to process enormous unindexed datasets.</li>
<li>They calculated each step of the process from logs across each service and easily split the result by warehouse.</li>
<li>They were even able to incorporate reviews from the business success team’s system into the same view.</li>
<li>With Grail, the problem area surfaced immediately and was confirmed by related low ratings.<br>
<a href="/docs/pepper/apps/bnos#scenario-3">-></a></li>
</ul>
<p>:::</p>
<h3 id="full-process-observability">Full Process Observability</h3>
<p>Realizing it’s not a simple logistics problem, the Bobbleneers support team worked with developers to <strong>track the entire business process</strong>. They expanded visibility to include:</p>
<ul>
<li>start to finish timeframe from customer perspective</li>
<li>customer ratings provided by the business success team</li>
<li>continued warehouse visibility</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">60</span><span style="--0:#D7DBE0">m</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">company</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Bobbleneers</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// Pull out event times for key services</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">orderTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">orderreceived</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">shipped</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">delivered</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">))</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// Combine different logs into single records</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">toLong</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB">)),</span><span style="--0:#D7DBE0">orderTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">orderTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">deliverTime</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB">), by: </span><span style="--0:#D7DBE0">orderid</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// Calculate timeframes in hours for each step of process</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">totalTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">toLong</span><span style="--1:#403F53"><span style="--0:#D6DEEB">((</span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">orderTime</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1000000000.0</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">distributionTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">toLong</span><span style="--1:#403F53"><span style="--0:#D6DEEB">((</span><span style="--0:#D7DBE0">shipTime</span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">orderTime</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1000000000.0</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">transitTime</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">toLong</span><span style="--1:#403F53"><span style="--0:#D6DEEB">((</span><span style="--0:#D7DBE0">deliverTime</span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">shipTime</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1000000000.0</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#C792EA;--1:#8D46B4">/</span><span style="--0:#F78C6C;--1:#AA0982">60</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// Combine data by warehouse and calculate averages</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">shipHours</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">round</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">avg</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">transitTime</span><span style="--0:#D6DEEB">)),</span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">round</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">avg</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB">)),</span><span style="--0:#D7DBE0">totalHours</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">round</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">avg</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">totalTime</span><span style="--0:#D6DEEB">)),</span><span style="--0:#D7DBE0">distHours</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">round</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">avg</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">distributionTime</span><span style="--0:#D6DEEB">)),  by: </span><span style="--0:#D7DBE0">warehouse</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// Organize fields logically</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fields</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">totalHours</span><span style="--0:#D6DEEB">,</span><span style="--0:#D7DBE0">distHours</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">shipHours</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">rating</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -60m| filter company == &#x22;Bobbleneers&#x22;// Pull out event times for key services| fieldsAdd orderTime = if(serviceevent ==&#x22;orderreceived&#x22;, toTimestamp(event))| fieldsAdd shipTime = if(serviceevent == &#x22;shipped&#x22;, toTimestamp(event))| fieldsAdd deliverTime = if(serviceevent == &#x22;delivered&#x22;, toTimestamp(event))// Combine different logs into single records| summarize rating = toLong(takeFirst(rating)),orderTime = takeFirst(orderTime), shipTime = takeFirst(shipTime), deliverTime= takeFirst(deliverTime), warehouse = takeFirst(warehouse), by: orderid// Calculate timeframes in hours for each step of process| fieldsAdd totalTime = toLong((deliverTime-orderTime)/(1000000000.0)/60/60)| fieldsAdd distributionTime = toLong((shipTime-orderTime)/(1000000000.0)/60/60)| fieldsAdd transitTime = toLong((deliverTime-shipTime)/(1000000000.0)/60/60)// Combine data by warehouse and calculate averages| summarize shipHours = round(avg(transitTime)),rating = round(avg(rating)),totalHours = round(avg(totalTime)),distHours = round(avg(distributionTime)),  by: warehouse// Organize fields logically| fields warehouse, totalHours,distHours, shipHours, rating"><div></div></button></div></figure></div>
<p>The results provided by Grail were instant:</p>
<ul>
<li>Anything shipped from <strong>Nevada had terrible processing times</strong>! <em>red box</em></li>
<li>The <strong>ratings confirm</strong> Nevada distribution is the problem source. <em>yellow box</em></li>
</ul>
<p><img src="/_astro/nevadaratings.Ysy31Ew5_Z1wqtvV.webp" alt="nevada" width="700" height="228" loading="lazy" decoding="async"></p>
<p>But why? LightningBobble triggers on every order &#x26; the team knows every order is sent. There must be a distribution issue specifically in the Nevada warehouse.</p>
<h2 id="scenario-3">Scenario 3</h2>
<p>:::info tl;dr</p>
<ul>
<li>Armed with the knowledge they need to focus on the distribution service and only for Nevada shipments, the team can get a few order examples.</li>
<li>With the examples in hand, they can use an adhoc Grail search to easily “trace” every instance of that order id across all systems.</li>
</ul>
<p>:::</p>
<h3 id="zeroing-in">Zeroing in</h3>
<p>Finally, the team combined what they learned to find bad orders coming out of Nevada.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">5</span><span style="--0:#D7DBE0">d</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">company</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Bobbleneers</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">dayofWeek</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">formatTimestamp</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">format</span><span style="--0:#D6DEEB">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">E</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">dayofWeek</span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">dayofWeek</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">takeFirst</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB">), by: </span><span style="--0:#D7DBE0">orderid</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">and</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">warehouse</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Nevada</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">and</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">dayofWeek</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Tue</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">limit</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#F78C6C;--1:#AA0982">5</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -5d| filter company == &#x22;Bobbleneers&#x22;| fieldsAdd dayofWeek = formatTimestamp(toTimestamp(event), format: &#x22;E&#x22;)| summarize dayofWeek=takeFirst(dayofWeek), warehouse = takeFirst(warehouse), rating = takeFirst(rating), by: orderid| filter rating == &#x22;1&#x22; and warehouse == &#x22;Nevada&#x22; and dayofWeek == &#x22;Tue&#x22;| limit 5"><div></div></button></div></figure></div>
<h3 id="shocked-realization"><em>shocked realization</em></h3>
<p>They traced an order.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">5</span><span style="--0:#D7DBE0">d</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">company</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Bobbleneers</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">and</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">orderid</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">012a1fbe-381f-442c-b658-9ac2dcc244ea</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fields</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">servicename</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">review</span><span style="--0:#D6DEEB">,</span><span style="--0:#D7DBE0">status</span><span style="--0:#D6DEEB">,</span><span style="--0:#D7DBE0">content</span><span style="--0:#D6DEEB">,</span><span style="--0:#D7DBE0">serviceversion</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -5d| filter company == &#x22;Bobbleneers&#x22; and orderid == &#x22;012a1fbe-381f-442c-b658-9ac2dcc244ea&#x22;| fields servicename, rating, review,status,content,serviceversion"><div></div></button></div></figure></div>
<p>Root cause is immediately obvious!</p>
<ul>
<li>The new <strong>BobbleLightning service fails with a “ZipCode required” error</strong>! (red box)</li>
<li>Not only that, but <strong>no one turned off the old batch order distribution system</strong>. It only runs on Monday night but eventually picked up the failed orders and sent them to shipping.</li>
</ul>
<p><img src="/_astro/bobblerootcause.DSFkF_u7_Z2bHgqY.webp" alt="rootcause" width="935" height="359" loading="lazy" decoding="async"></p>
<p>Once developers saw the issue, they quickly updated BobbleLightning to version 1.3 in Nevada. Then the support team retired the batch system.</p>
<h2 id="getting-proactive">Getting Proactive</h2>
<p>The Bobbleneers team saved the day with Grail. But they wanted to make sure to have great visibility going forward.</p>
<p>Building on their dashboard widget for shipping, the team added a query to watch</p>
<h2 id="bonus-scenarios">Bonus scenarios</h2>
<h3 id="confirm-mid-week-spikes">Confirm mid-week spikes</h3>
<p>Armed with the knowledge that they need to focus on:</p>
<ul>
<li>orders with bad reviews</li>
<li>orders shipped from Nevada warehouse</li>
</ul>
<p>the team used Grail to confirm bad reviews spike up mid-week.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--1:#403F53"><span style="--0:#D7DBE0">fetch</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">logs</span><span style="--0:#D6DEEB">, from: </span></span><span style="--0:#C792EA;--1:#8D46B4">-</span><span style="--1:#403F53"><span style="--0:#D6DEEB">1</span><span style="--0:#D7DBE0">d</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">filter</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">company</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">Bobbleneers</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">and</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">serviceevent</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">reviewreceived</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">and</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">rating</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">==</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">1</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">fieldsAdd</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">dayofWeek</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">formatTimestamp</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">toTimestamp</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">event</span><span style="--0:#D6DEEB">), </span><span style="--0:#D7DBE0">format</span><span style="--0:#D6DEEB">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">E</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">summarize</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">BadReviews</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">count</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(), by:</span><span style="--0:#D7DBE0">dayofWeek</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">|</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">sort</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">BadReviews</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">desc</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fetch logs, from: -1d| filter company == &#x22;Bobbleneers&#x22; and serviceevent == &#x22;reviewreceived&#x22; and rating == &#x22;1&#x22;| fieldsAdd dayofWeek = formatTimestamp(toTimestamp(event), format: &#x22;E&#x22;)| summarize BadReviews = count(), by:dayofWeek| sort BadReviews desc"><div></div></button></div></figure></div>
<p><img src="/_astro/reviewsbyday.DQ3nujpN_ZdOOPJ.webp" alt="reviews" width="848" height="493" loading="lazy" decoding="async"></p>
<h2 id="deployment">Deployment</h2>
<p><a href="/docs/pepper">Pepper</a> is a great way to deploy this application on a kubernetes cluster in the cloud of your choice.</p>
<p>It can be done manually with the yaml file below.</p>
<p>Download the yaml.</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">curl</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">https://raw.githubusercontent.com/suchcodewow/bobbleneers/main/bnos.yaml</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">~/dbic.yaml</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="curl https://raw.githubusercontent.com/suchcodewow/bobbleneers/main/bnos.yaml > ~/dbic.yaml"><div></div></button></div></figure></div>
<p>Edit the yaml file and replace (remove brackets too):</p>
<ul>
<li><code dir="auto">&#x3C;tenantURL></code> with your tenant link i.e. <code dir="auto">123abcd.live.dynatrace.com</code></li>
<li><code dir="auto">&#x3C;tenantToken></code> with a token that has the <code dir="auto">logs.ingest</code> permissions</li>
</ul>
<p>Apply.</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">kubectl</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">apply</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-f</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">~/dbic.yaml</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="kubectl apply -f ~/dbic.yaml"><div></div></button></div></figure></div>
<p>Once deployed, the load generator will immediately start creating traffic. On default cloud kubernetes installations, you can login to the application as well.</p> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links astro-u2l5gyhi" dir="ltr">   </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>